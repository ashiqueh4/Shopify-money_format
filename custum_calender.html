<!-- calender code -->
<meta content="width=device-width, initial-scale=1" name="viewport" />

 <input type="text" class="date-slot-input-date"  id="calender_date" value="" placeholder="dd/mm/yyyy" data-id="model_calender"  data-target="#mymodel_calender">


<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>



<div id="mymodel_calender" class="model_calender">
<div class="model-content">
    <div class="modal-header">
<span class="close" data-close="model_calender">&times;</span>
</div>
    <div class="modal-body">



<div class="main-wrapper">
  <div class="sidebar-wrapper z-depth-2 side-nav fixed" id="sidebar">
    <div class="sidebar-title">
      <h4>Events</h4>
      <h5 id="eventDayName">Date</h5>
    </div>
    <div class="sidebar-events" id="sidebarEvents">
      <div class="empty-message">Sorry, no events to selected date</div>
    </div>

  </div>

  <div class="content-wrapper grey lighten-3">
    <div class="container-ch">
     <div class="choose-new-date">
      <p>choose new date</p>
     </div>
      <div class="calendar-wrapper z-depth-2">

        <div class="header-background">
          <div class="calendar-header">



            <div class="row header-title">

              <div class="header-text">
                <h3 id="month-name">February</h3>
                <h5 id="todayDayName">Today is Friday 7 Feb</h5>
              </div>

            </div>
            <div class="pn_btn_cal">
             <a class="prev-button" id="prev">
              <i class="material-icons">keyboard_arrow_left</i>
            </a>
            <a class="next-button" id="next">
              <i class="material-icons">keyboard_arrow_right</i>
            </a>
          </div>
          </div>
        </div>

        <div class="calendar-content">
          <div id="calendar-table" class="calendar-cells">

            <div id="table-header">
              <div class="row">
                <div class="col">Mon</div>
                <div class="col">Tue</div>
                <div class="col">Wed</div>
                <div class="col">Thu</div>
                <div class="col">Fri</div>
                <div class="col">Sat</div>
                <div class="col">Sun</div>
              </div>
            </div>

            <div id="table-body" class="">

            </div>

          </div>
        </div>

      </div>
      <div class="calendar-footer">
        <div id="cancel_footer"> cancel </div> 
        <div id="apply_footer"> apply </div>
      </div>

    </div>
  </div>

</div>



</div>
</div>
</div>




<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>



<style type="text/css">

#table-header {
font-size: 25px;
}
#table-body {
font-size: 25px;
}
#sidebar {
display: none;
}
.calendar-footer #cancel_footer {
cursor: pointer;
border: 2px solid #c19595;
font-size: 16px;
width: 200px;
display: inline-block;
padding: 6px 0 6px 0;
text-transform: uppercase;
margin-right: 25px;
}
#apply_footer {
cursor: pointer;
margin-left: 25px;
border: 2px solid #1313cc;
font-size: 16px;
width: 200px;
display: inline-block;
padding: 6px 0 6px 0;
background-color: #1313cc;
color: #fff;
text-transform: uppercase;
}
h3,h4,h5 {
font-weight: 300 !important;
}



.calendar-header {
background-color:#fff;
height: 100%;
padding: 20px;
color: #fff;
font-weight: 300;
position: relative;
}
.header-text {
color: #000;
}
.row.header-title {
width: 80%;
display: inline-block;
}
#todayDayName {
display: none;
}
.header-title {
padding-left: 15%;
}

.header-background {
background-color:#fff ;
height:90px;
}

.calendar-content {
background-color: #fff;
padding: 20px;
}

.event-mark {
width: 5px;
height: 5px;
background-color: teal;
border-radius: 100px;
position: absolute;
left: 46%;
top: 70%;
}

.calendar-footer {
height: 100px;
font-weight: 300;
text-align: center;
background-color: #fff !important;
position: relative;
overflow: hidden;
}

.addForm {
position: absolute;
top: 100%;
width: 100%;
height: 100%;
background-color: #4b5889 !important;
transition: top 0.5s cubic-bezier(1, 0, 0, 1);
padding: 0 5px 0 5px;
}

.addForm input {
color: #fff;
}

.addForm .row {
padding-left: 0.75rem;
padding-right: 0.75rem;
margin-bottom: 0;
}

.addForm h4 {
color: #fff;
margin-bottom: 1rem;
}

.addEventButtons {
text-align: right;
padding: 0 0.75rem 0 0.75rem;
}

.addEventButtons a {
color: black;
font-weight: 300;
}

.emptyForm {
padding: 20px;
padding-left: 15%;
padding-right: 15%;
}

.emptyForm h4 {
color: #fff;
margin-bottom: 2rem;
}

.sidebar-wrapper {
color: #fff;
background-color: #5a649c !important;
padding-top: 0;
padding-bottom: 20px;
font-weight: 300;
padding-left: 0;
padding-right: 0;
}

.sidebar-title {
padding: 50px 6% 50px 12%;
}

.sidebar-title h4 {
margin-top: 0;
}

.sidebar-events {
overflow-x: hidden;
overflow-y: hidden;
margin-bottom: 70px;
}

.empty-message {
font-size: 1.2rem;
padding: 15px 6% 15px 12%;
}

.eventCard {
background-color: #fff;
color: black;
padding: 12px 24px 12px 24px;
border-bottom: 1px solid #E5E5E5;
white-space: nowrap;
position: relative;
animation: slideInDown 0.5s;
}

.eventCard-header {
font-weight: bold;
}

.eventCard-description {
color: grey;
}

.eventCard-mark-wrapper {
position: absolute;
right: 0;
top: 0;
height: 100%;
width: 60px;
background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 25%, rgba(255, 255, 255, 1) 100%);
}

.eventCard-mark {
width: 8px;
height: 8px;
background-color: #b39ddb;
border-radius: 100px;
position: absolute;
left: 50%;
top: 45%;
}

.day-mark {
width: 7px;
height: 7px;
background-color: #b39ddb;
border-radius: 100px;
position: absolute;
left: 47%;
top: 67%;
}



#table-body .col:hover {
cursor: pointer;
/*border: 1px solid grey;*/
background-color: #6679CC;
color: #fff;
}
.col.blue.lighten-3:hover{
  background-color: #6C1D45 !important;
color: #fff !important;
}

.empty-day:hover {
cursor: default !important;
background-color: #fff !important;
}

#table-body .row .col {
padding: .75rem;
}

#table-body .col {
border: 1px solid transparent;
}

#table-body {}

#table-body .row {
margin-bottom: 0;
}

#table-body .col {
padding-top: 1.3rem !important;
padding-bottom: 1.3rem !important;
}

#calendar-table {
text-align: center;
}

.prev-button {
cursor: pointer;
left: 0%;
top: 35%;
color: grey !important;
}

.prev-button i {
font-size: 2em;
}

.next-button {
cursor: pointer;
right: 0%;
top: 35%;
color: grey !important;
}

.next-button i {
font-size: 2em;
}

.addEvent {
box-shadow: 0 5px 15px rgb(57, 168, 228);
background-color: #39a8e4;
padding: 10px;
padding-left: 3em;
padding-right: 3em;
cursor: pointer;
border-radius: 25px;
color: #fff !important;
background-image: linear-gradient(135deg, #8d8dd4, #45ced4);
}

.addEvent:hover {
transition: box-shadow 0.5s;
box-shadow: 0 4px 25px rgb(57, 168, 228);
}

.mobile-header {
padding: 0;
display: none;
padding-top: 20px;
padding-bottom: 20px;
position: fixed;
z-index: 99;
width: 100%;
background-color: #5a649c !important;
}

.mobile-header a i {
color: #fff;
font-size: 38px;
}

.mobile-header h4 {
color: #fff;
}

.mobile-header .row {
margin-bottom: 0;
}

.mobile-header h4 {
margin: 0;
font-weight: 300;
}
.content-wrapper {
width: 100%;
}
.calendar-wrapper.z-depth-2 {
    width: 100%;
    padding-top: 0;
    border: 2px solid #f4f6f8;
    margin-bottom: 30px;
    margin-top: 30px;
}
.choose-new-date {
background: #fff;

}
.choose-new-date p {
text-align: center;
font-size: 18px;
text-transform: capitalize;
margin-bottom: 0px;
color: #6C1D45;
padding-top: 25px;
}
.header-text #month-name {
font-size: 20px;
font-weight: 800 !important;
}
.pn_btn_cal {
    display: inline-block;
    float:right;
}

@media (max-width:450px) {
  #table-header .row .col {
    padding: 0px;
}
.calendar-footer {
    height: 140px;
  }
.calendar-footer #cancel_footer {
    margin-bottom: 25px;
}
#table-body {
    font-size:14px !important;
}
  #table-header {
    font-size: 13px !important;
}
div#table-body .row {
    padding: 0px !important;
    margin: 0px !important;
}
  .header-background {
    background-color: #fff;
    height: 65px;
}
.model_calender .model-content{
width:100% !important;
}
.content-wrapper {
  padding-left: 0;
  padding-right: 0;
}
.content-wrapper .container {
  padding-left: 0;
  padding-right: 0;
}
}
@media (max-width:992px) {

.model_calender .model-content {
    position: relative;
    width: 65% !important;
    margin: auto;
    background-color: #fff;
    animation-name: animatetop;
    animation-duration: 0.4s;
}
.mobile-header {
  display: block;
}
.calendar-wrapper {
  margin-top: 80px;
}
.sidebar-wrapper {
  background-color: #EEEEEE !important;
}
.sidebar-title {
  background-color: #5A649C !important;
}
.empty-message {
  color: black;
}
}

@media (max-width:400px) {
#table-body {
    font-size: 11px !important;
}
}
@media (max-width:600px) {
  .calendar-footer #cancel_footer {
    width: 150px;
    margin: 5px;
  }
  #apply_footer{
    width: 150px;
    margin: 5px;
  }
}
@media (max-width:767px) {
  .model_calender .model-content {
    width: 95% !important;
  }
  #table-header {
    font-size: 13px;
    font-weight: 600;
}
  .header-background {
    background-color: #fff;
    height: 65px;
}
  .prev-button i {
    font-size: 2em;
}
.next-button i {
    font-size: 2em;
}
  .row.header-title {
    width: 215px;
    display: inline-block;
    float: left;
}
.header-text #month-name {
font-size:16px;
}
.content-wrapper.grey.lighten-3 {
    width: 100% !important;
    margin: 0 auto;
    background-color: #fff !important;
}
.calendar-wrapper.z-depth-2 {
width:95%;
margin: 0 auto;
margin-top: 30px;
margin-bottom: 30px;
}

.content-wrapper .container {
  width: auto;
}
.calendar-content {
  padding-left: 5%;
  padding-right: 5%;
}
body .row {
  margin-bottom: 0;
}
}




.model_calender{
display:none;
position:fixed;
padding-top: 100px;
padding-bottom: 100px;
top:0;
left:0;
z-index:999999;
overflow:auto;
width: 100%;
height: 100%;
background-color:rgba(0,0,0,0.4);
}

.model_calender .model-content{
position: relative;
width:50%;
margin:auto;
background-color:#fff;
animation-name: animatetop;
animation-duration: 0.4s
}

@keyframes animatetop {
from {top:-300px; opacity:0}
to {top:0; opacity:1}
}

.model_calender .close {
  color: #454040;
    float: right;
    font-size: 35px;
    font-weight: bold;
    margin-right: 25px;
}

.model_calender .close:hover,
.model_calender .close:focus {
color: #000;
text-decoration: none;
cursor: pointer;
}
.model_calender .modal-header {
padding: 2px 16px;
color: white;
}

.model_calender .modal-body {padding: 2px 16px;}

.model_calender .modal-footer {
padding: 2px 16px;
color: white;
}
.model_calender .col.blue.lighten-3 {
    background: #6C1D45;
    color: #fff;
}


 /*Calender css end */


</style>

<script>
/* calender js start */


 let selected_date_added; 
var calendar = document.getElementById("calendar-table");
var gridTable = document.getElementById("table-body");
var currentDate = new Date();
var selectedDate = currentDate;
var selectedDayBlock = null;
var globalEventObj = {};

var sidebar = document.getElementById("sidebar");

function createCalendar(date, side) {
var currentDate = date;
var startDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);

var monthTitle = document.getElementById("month-name");
var monthName = currentDate.toLocaleString("en-US", {
  month: "long"
});
var yearNum = currentDate.toLocaleString("en-US", {
  year: "numeric"
});

let selected_date_default= currentDate.toLocaleString("en-US", {
  month: "numeric",
  day: "numeric",
  year: "numeric"
});
selected_date_added = selected_date_default;
monthTitle.innerHTML = `${monthName} ${yearNum}`;

if (side == "left") {
  gridTable.className = "animated fadeOutRight";
} else {
  gridTable.className = "animated fadeOutLeft";
}

setTimeout(() => {
  gridTable.innerHTML = "";

  var newTr = document.createElement("div");
  newTr.className = "row";
  var currentTr = gridTable.appendChild(newTr);

  for (let i = 1; i < startDate.getDay(); i++) {
     let emptyDivCol = document.createElement("div");
     emptyDivCol.className = "col empty-day";
     currentTr.appendChild(emptyDivCol);
  }

  var lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
  lastDay = lastDay.getDate();

  for (let i = 1; i <= lastDay; i++) {
     if (currentTr.children.length >= 7) {
        currentTr = gridTable.appendChild(addNewRow());
     }
     let currentDay = document.createElement("div");
     currentDay.className = "col";
     if (selectedDayBlock == null && i == currentDate.getDate() || selectedDate.toDateString() == new Date(currentDate.getFullYear(), currentDate.getMonth(), i).toDateString()) {
        selectedDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), i);

        document.getElementById("eventDayName").innerHTML = selectedDate.toLocaleString("en-US", {
           month: "long",
           day: "numeric",
           year: "numeric"
        });

        selectedDayBlock = currentDay;
        setTimeout(() => {
           currentDay.classList.add("blue");
           currentDay.classList.add("lighten-3");
        }, 900);
     }
     currentDay.innerHTML = i;

     //show marks
     if (globalEventObj[new Date(currentDate.getFullYear(), currentDate.getMonth(), i).toDateString()]) {
        let eventMark = document.createElement("div");
        eventMark.className = "day-mark";
        currentDay.appendChild(eventMark);
     }

     currentTr.appendChild(currentDay);
  }

  for (let i = currentTr.getElementsByTagName("div").length; i < 7; i++) {
     let emptyDivCol = document.createElement("div");
     emptyDivCol.className = "col empty-day";
     currentTr.appendChild(emptyDivCol);
  }

  if (side == "left") {
     gridTable.className = "animated fadeInLeft";
  } else {
     gridTable.className = "animated fadeInRight";
  }

  function addNewRow() {
     let node = document.createElement("div");
     node.className = "row";
     return node;
  }

}, !side ? 0 : 270);
}

createCalendar(currentDate);

var todayDayName = document.getElementById("todayDayName");
todayDayName.innerHTML = "Today is " + currentDate.toLocaleString("en-US", {
weekday: "long",
day: "numeric",
month: "short"
});

var prevButton = document.getElementById("prev");
var nextButton = document.getElementById("next");

prevButton.onclick = function changeMonthPrev() {
currentDate = new Date(currentDate.getFullYear(), currentDate.getMonth() - 1);
createCalendar(currentDate, "left");
}
nextButton.onclick = function changeMonthNext() {
currentDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1);
createCalendar(currentDate, "right");
}

gridTable.onclick = function (e) {

if (!e.target.classList.contains("col") || e.target.classList.contains("empty-day")) {
  return;
}

if (selectedDayBlock) {
  if (selectedDayBlock.classList.contains("blue") && selectedDayBlock.classList.contains("lighten-3")) {
     selectedDayBlock.classList.remove("blue");
     selectedDayBlock.classList.remove("lighten-3");
  }
}
selectedDayBlock = e.target;
selectedDayBlock.classList.add("blue");
selectedDayBlock.classList.add("lighten-3");

selectedDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), parseInt(e.target.innerHTML));

let selected_date= selectedDate.toLocaleString("en-US", {
  month: "numeric",
  day: "numeric",
  year: "numeric"
});


//console.log("mss"+ selected_date);
selected_date_added = selected_date;
//calender_date



}

/* if date is default slected */




$('[data-id="model_calender"]').on('click', function(){
var thisModel = $(this).data('target');
$(thisModel).show();
$(thisModel).find('[data-close="model_calender"]').click(function(){ 
$(thisModel).hide();
});
// $(window).click(function(event){
// if('#'+event.target.id == thisModel){
//   $(thisModel).hide();
// }
// });
});

document.getElementById('apply_footer').addEventListener('click', function() {

document.getElementById("calender_date").value=selected_date_added;
$("#mymodel_calender").hide();
});
document.getElementById('cancel_footer').addEventListener('click', function() {
  $("#mymodel_calender").hide();
  });
/* calender js end */



</script>

<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta.2/css/bootstrap-grid.css">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>